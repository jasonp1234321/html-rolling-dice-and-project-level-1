<!DOCTYPE html>
<html>
    <head>
        <title>Codebreaker</title>
        <style></style>
        <script>

            function initialize(){
                messageOutput = document.getElementById("output");
                makeCode();
                message = "Turns Left: 7 | Current Guess: " //+ code ;
                amountOfGuesses = 7;
                guess = "";
                log = "";
                win = false;
                display();
            }

            function makeCode(){
                code = parseInt((Math.random()*333)+111);
                while(String(code).includes("0") | String(code).includes("4") | String(code).includes("5") | String(code).includes("6") | String(code).includes("7") | String(code).includes("8") | String(code).includes("9")){
                    code = parseInt((Math.random()*333)+111);
                }
            }

            function display(){
                messageOutput.innerHTML = message;
            }
function guessNumber(num){ 
                if(win == false){
                    if(amountOfGuesses == 0){
                        message = "Sadly you have run out of time";
                    }
                    else{
                        guess += num;
                        message = "Turns Left: " + amountOfGuesses + " | Current Guess: " + guess + " | Guesses You Made: " + log;
                        if(guess.length == 3){
                            log += guess + " ";
                            guessMessage(guess);
                        }
                    }
                }
                display();
            }

            function guessMessage(num){
                var number = parseInt(num);
                if(number<code){
                    amountOfGuesses--;
                    message = "The guess is too small.";
                    guess = "";
                }
                if(number>code){
                    amountOfGuesses--;
                    message = "The guess is too big.";
                    guess = "";
                }
                if(number == code){
                    message = "Correct!";
                    win = true;
                }
                display();
            }

            function clearGuess(){
                if(win == false){
                    if(amountOfGuesses == 0){
                        message = "Sadly you have run out of time";
                    }
                else{
                    guess = "";
                    message = "Turns Left: " + amountOfGuesses + " | Current Guess: " + guess + " | Guesses You Made: " + log;
                }
                }
                display();
            }

        </script>
    </head>
<body onload = "initialize();">
        <h1> 
            As an international sneak thief, you break into 
            vaults all the time. Riddling out a simple 3 digit 
            code is child's play for you. But you must be getting 
            sloppy in your old age because you've tripped an alarm. 
            In no time at all, the police will be all over the place. 
            Can you get into the vault before they arrive?
        </h1>
        <h2>
            You have to crack a 3 digit random code in 7 turns. 
            Each time you complete a 3 digit guess, the computer will 
            tell you whether the code is higher, lower, or correct.
        </h2>

        <div id = "output"></div>

        <button onclick = "guessNumber('1');">1</button>
        <button onclick = "guessNumber('2');">2</button>
        <button onclick = "guessNumber('3');">3</button>
        <button onclick = "clearGuess();">Clear</button>
        <button onclick = "initialize();">Restart</button>
    </body>

</html>